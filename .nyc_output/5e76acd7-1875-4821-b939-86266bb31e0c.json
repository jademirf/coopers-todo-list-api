{"/home/jademir/dev/techChallenges/coopers/todo-api/src/server.ts":{"path":"/home/jademir/dev/techChallenges/coopers/todo-api/src/server.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":54}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":56}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":53}},"7":{"start":{"line":10,"column":18},"end":{"line":10,"column":62}},"8":{"start":{"line":11,"column":22},"end":{"line":11,"column":44}},"9":{"start":{"line":12,"column":23},"end":{"line":12,"column":49}},"10":{"start":{"line":13,"column":15},"end":{"line":23,"column":1}},"11":{"start":{"line":25,"column":19},"end":{"line":32,"column":6}},"12":{"start":{"line":33,"column":4},"end":{"line":37,"column":7}},"13":{"start":{"line":38,"column":4},"end":{"line":40,"column":7}},"14":{"start":{"line":41,"column":4},"end":{"line":43,"column":7}},"15":{"start":{"line":42,"column":8},"end":{"line":42,"column":40}},"16":{"start":{"line":44,"column":4},"end":{"line":47,"column":7}},"17":{"start":{"line":45,"column":8},"end":{"line":45,"column":33}},"18":{"start":{"line":46,"column":8},"end":{"line":46,"column":22}},"19":{"start":{"line":48,"column":4},"end":{"line":48,"column":34}},"20":{"start":{"line":49,"column":4},"end":{"line":60,"column":8}},"21":{"start":{"line":61,"column":4},"end":{"line":61,"column":18}},"22":{"start":{"line":63,"column":0},"end":{"line":63,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"bootstrap","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":18}},"loc":{"start":{"line":24,"column":21},"end":{"line":62,"column":1}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":41,"column":25},"end":{"line":41,"column":26}},"loc":{"start":{"line":41,"column":37},"end":{"line":43,"column":5}},"line":41},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":33},"end":{"line":44,"column":34}},"loc":{"start":{"line":44,"column":59},"end":{"line":47,"column":5}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":5,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1},"f":{"0":5,"1":1,"2":1,"3":1},"b":{"0":[1,1,1],"1":[1,4],"2":[5,5]},"inputSourceMap":{"version":3,"file":"/home/jademir/dev/techChallenges/coopers/todo-api/src/server.ts","sources":["/home/jademir/dev/techChallenges/coopers/todo-api/src/server.ts"],"names":[],"mappings":";;;;;AAAA,sDAA6B;AAC7B,uDAAqC;AACrC,yDAAgC;AAChC,sDAA6B;AAC7B,+DAAuC;AACvC,6CAA8C;AAC9C,kDAA0C;AAI1C,MAAM,MAAM,GAAG;IACb,IAAI,EAAE,QAAQ;IACd,QAAQ,EAAE,CAAE,MAAM,EAAE,gBAAgB,CAAE;IACtC,UAAU,EAAE;QACV,IAAI,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,IAAI;SACd;QACD,cAAc,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;KACnC;CACF,CAAA;AAYD,SAAS,SAAS;IAChB,MAAM,MAAM,GAAG,IAAA,iBAAO,EAAC;QACrB,MAAM,EAAE;YACN,KAAK,EAAE,MAAM;YACb,SAAS,EAAE;gBACT,MAAM,EAAE,aAAa;aACtB;SACF;KACF,CAAC,CAAA;IAEF,MAAM,CAAC,QAAQ,CAAC,aAAU,EAAE;QAC1B,MAAM,EAAE,IAAI;QACZ,OAAO,EAAE,QAAQ;QACjB,MAAM,EAAE,MAAM;KACf,CAAC,CAAA;IAEF,MAAM,CAAC,QAAQ,CAAC,cAAI,EAAE;QACpB,MAAM,EAAE,IAAI;KACb,CAAC,CAAA;IAGF,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE;QAC9B,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,CAAA;IACjC,CAAC,CAAC,CAAA;IAEF,MAAM,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE;QACpD,OAAO,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAA;QACxB,OAAO,IAAI,EAAE,CAAA;IACf,CAAC,CAAC,CAAA;IAEF,IAAA,gBAAM,EAAC,MAAM,CAAC,CAAA;IAEd,MAAM,CAAC,QAAQ,CACb,iBAAO,EACP,IAAA,6BAAe,EAAC;QACd,WAAW,EAAE,OAAO;QACpB,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE,IAAI;QACf,OAAO,EAAE;YACP,IAAI,EAAE;gBACJ,KAAK,EAAE,aAAa;gBACpB,WAAW,EAAE,eAAe;gBAC5B,OAAO,EAAP,sBAAO;aACR;SACF;KACF,CAAC,CACH,CAAC;IAEF,OAAO,MAAM,CAAA;AAEf,CAAC;AAED,kBAAe,SAAS,CAAA","sourcesContent":["import Fastify from 'fastify'\nimport fastifyEnv from '@fastify/env'\nimport cors from '@fastify/cors'\nimport routes from './routes'\nimport swagger from \"@fastify/swagger\";\nimport { withRefResolver } from \"fastify-zod\";\nimport { version } from \"../package.json\";\nimport { JWT, SignOptions } from '@fastify/jwt';\n\n\nconst schema = {\n  type: 'object',\n  required: [ 'PORT', 'JWT_SECRET_KEY' ],\n  properties: {\n    PORT: {\n      type: 'number',\n      default: 3000,\n    },\n    JWT_SECRET_KEY: { type: 'string' }\n  }\n}\n\ndeclare module 'fastify' {\n  export interface FastifyRequest {\n    jwt: JWT;\n  }\n  export interface FastifyInstance {\n    authenticate: any;\n    secret: SignOptions;\n  }\n}\n\nfunction bootstrap() {\n  const server = Fastify({\n    logger: {\n      level: 'info',\n      transport: {\n        target: 'pino-pretty'\n      }\n    }\n  })\n  \n  server.register(fastifyEnv, {\n    dotenv: true, // will read .env in root folder\n    confKey: 'config',\n    schema: schema,\n  })\n\n  server.register(cors, {\n    origin: true,\n  })\n\n  \n  server.get('/check', async () => {\n    return { message: 'It works!' }\n  })\n\n  server.addHook('preHandler', (request, reply, next) => {\n    request.jwt = server.jwt\n    return next()\n  })\n\n  routes(server)\n\n  server.register(\n    swagger,\n    withRefResolver({\n      routePrefix: \"/docs\",\n      exposeRoute: true,\n      staticCSP: true,\n      openapi: {\n        info: {\n          title: \"Fastify API\",\n          description: \"Todo list API\",\n          version,\n        },\n      },\n    })\n  );\n\n  return server\n\n}\n\nexport default bootstrap"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97d2579678fe671392a549b6a7aa5091a56a43e9","contentHash":"0d028228e62fe39a79bab0570d0228a5cab41dd4b54f3ffcbf088edd758aa1d6"},"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/index.ts":{"path":"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":22},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":46}},"3":{"start":{"line":5,"column":0},"end":{"line":8,"column":2}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":43}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":18},"end":{"line":5,"column":19}},"loc":{"start":{"line":5,"column":31},"end":{"line":8,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/index.ts","sources":["/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/index.ts"],"names":[],"mappings":";;AACA,+CAA2C;AAC3C,+CAA2C;AAG3C,kBAAe,CAAC,OAAwB,EAAE,EAAE;IAC1C,IAAA,wBAAU,EAAC,OAAO,CAAC,CAAA;IACnB,IAAA,wBAAU,EAAC,OAAO,CAAC,CAAA;AACrB,CAAC,CAAA","sourcesContent":["import { FastifyInstance } from 'fastify'\nimport  { authRoutes } from './auth.routes'\nimport  { userRoutes } from './user.routes'\n\n\nexport default (fastify: FastifyInstance) => {\n  authRoutes(fastify)\n  userRoutes(fastify)\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"36fbc7b03c9bc0525babb2912b74c53925f08b08","contentHash":"cb4249542b91a1371ef4d17b7162acb3120f9409bc7f9eb2751c84bfa3c578fd"},"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/auth.routes.ts":{"path":"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/auth.routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":28}},"26":{"start":{"line":27,"column":13},"end":{"line":27,"column":57}},"27":{"start":{"line":29,"column":4},"end":{"line":29,"column":41}},"28":{"start":{"line":31,"column":0},"end":{"line":31,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"authRoutes","decl":{"start":{"line":28,"column":15},"end":{"line":28,"column":25}},"loc":{"start":{"line":28,"column":35},"end":{"line":30,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"file":"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/auth.routes.ts","sources":["/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/auth.routes.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,0DAA2C;AAEpC,KAAK,UAAU,UAAU,CAAC,OAAwB;IACvD,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;AACtC,CAAC;AAFD,gCAEC","sourcesContent":["import { FastifyInstance } from 'fastify'\nimport * as Auth from '../controllers/auth'\n\nexport async function authRoutes(fastify: FastifyInstance) {\n  fastify.post('/signin', Auth.signIn)\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d63de9bcd6fd81136c0091fc61851241870a6e8e","contentHash":"4d2a13848a34d477f7ae5007d28ce4c1081d055262007adb1da7944ac9e9d695"},"/home/jademir/dev/techChallenges/coopers/todo-api/src/controllers/auth.ts":{"path":"/home/jademir/dev/techChallenges/coopers/todo-api/src/controllers/auth.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":57}},"5":{"start":{"line":7,"column":15},"end":{"line":30,"column":1}},"6":{"start":{"line":8,"column":4},"end":{"line":29,"column":6}},"7":{"start":{"line":9,"column":29},"end":{"line":12,"column":10}},"8":{"start":{"line":13,"column":36},"end":{"line":13,"column":68}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":93}},"10":{"start":{"line":15,"column":21},"end":{"line":17,"column":16}},"11":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"12":{"start":{"line":19,"column":12},"end":{"line":19,"column":63}},"13":{"start":{"line":21,"column":32},"end":{"line":21,"column":93}},"14":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"15":{"start":{"line":23,"column":12},"end":{"line":23,"column":84}},"16":{"start":{"line":25,"column":22},"end":{"line":27,"column":26}},"17":{"start":{"line":28,"column":8},"end":{"line":28,"column":59}},"18":{"start":{"line":31,"column":0},"end":{"line":31,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":15},"end":{"line":7,"column":16}},"loc":{"start":{"line":7,"column":35},"end":{"line":30,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":42},"end":{"line":29,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},{"start":{"line":18,"column":8},"end":{"line":20,"column":9}}],"line":18},"1":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1},"f":{"0":0,"1":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/jademir/dev/techChallenges/coopers/todo-api/src/controllers/auth.ts","sources":["/home/jademir/dev/techChallenges/coopers/todo-api/src/controllers/auth.ts"],"names":[],"mappings":";;;AACA,6BAAuB;AACvB,0CAAsC;AACtC,0DAAoD;AAE7C,MAAM,MAAM,GAAG,KAAK,EAAE,GAAmB,EAAE,GAAiB,EAAE,EAAE;IACrE,KAAK,EAAE,OAAwB,EAAE,OAAuB,EAAE,QAAsB,EAAE,EAAE;QAClF,MAAM,YAAY,GAAG,OAAC,CAAC,MAAM,CAAC;YAC5B,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YACxB,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;SAC5B,CAAC,CAAA;QACF,MAAM,EAAC,KAAK,EAAE,QAAQ,EAAC,GAAG,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;QAC1D,OAAO,CAAC,GAAG,CAAC,6DAA6D,EAAE,QAAQ,CAAC,CAAA;QAEpF,MAAM,IAAI,GAAG,MAAM,eAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAC,KAAK,EAAC;gBAC/C,KAAK;aACN,EAAC,CAAC,CAAA;QACH,IAAG,CAAC,IAAI,EAAE;YACR,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;SACnD;QAED,MAAM,eAAe,GAAG,MAAM,IAAA,yBAAU,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;QAEjE,IAAG,CAAC,eAAe,EAAE;YACnB,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAA;SACxE;QAGD,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;YAC7B,KAAK;SACN,EAAE,OAAO,CAAC,MAAM,CAAC,CAAA;QAElB,OAAO,QAAQ,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAC,CAAC,CAAA;IAClD,CAAC,CAAA;AACH,CAAC,CAAA;AA7BY,QAAA,MAAM,UA6BlB","sourcesContent":["import { FastifyInstance, FastifyRequest, FastifyReply } from \"fastify\"\nimport { z } from 'zod'\nimport { prisma } from '../lib/prisma'\nimport { verifyHash } from '../plugins/authenticate'\n\nexport const signIn = async (req: FastifyRequest, res: FastifyReply) => {\n  async (fastify: FastifyInstance, request: FastifyRequest, response: FastifyReply) => {\n    const authUserBody = z.object({ \n      email: z.string().min(5),\n      password: z.string().min(6)\n    })\n    const {email, password} = authUserBody.parse(request.body)\n    console.log('🚀 ~ file: auth.controller.ts ~ line 15 ~ signIn ~ password', password)\n  \n    const user = await prisma.user.findUnique({where:{\n      email,\n    }})\n    if(!user) {\n      return response.status(400).send('user not found')\n    }\n  \n    const isPasswordValid = await verifyHash(password, user.password)\n    \n    if(!isPasswordValid) {\n      return response.status(400).send('Informmed user or password is wrong')\n    }\n  \n  \n    const token = fastify.jwt.sign({\n      email\n    }, fastify.secret)\n  \n    return response.send({email: user.email, token})\n  }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ef4735317d57878202a13833e77b3f27f634c842","contentHash":"b8a03e3f948632d4828e8b4ee9826ed73028c4b453f9dfd16c73bc545470d75d"},"/home/jademir/dev/techChallenges/coopers/todo-api/src/lib/prisma.ts":{"path":"/home/jademir/dev/techChallenges/coopers/todo-api/src/lib/prisma.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/jademir/dev/techChallenges/coopers/todo-api/src/lib/prisma.ts","sources":["/home/jademir/dev/techChallenges/coopers/todo-api/src/lib/prisma.ts"],"names":[],"mappings":";;;AAAA,2CAA8C;AAEjC,QAAA,MAAM,GAAG,IAAI,qBAAY,CAAC;IACrC,GAAG,EAAE,CAAC,OAAO,CAAC;CACf,CAAC,CAAA","sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nexport const prisma = new PrismaClient({\n  log: ['query']\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ccf002b045b4f4ccfa12bee7ab0e7d07562e8f2b","contentHash":"97c6c580ed73fef4c5b037b1a044c7668af098a91ac1a67355a68abc0b30f5db"},"/home/jademir/dev/techChallenges/coopers/todo-api/src/plugins/authenticate.ts":{"path":"/home/jademir/dev/techChallenges/coopers/todo-api/src/plugins/authenticate.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":69}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":51}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":30}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}},"7":{"start":{"line":13,"column":19},"end":{"line":13,"column":54}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":18}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":26}},"10":{"start":{"line":18,"column":19},"end":{"line":18,"column":59}},"11":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"12":{"start":{"line":21,"column":0},"end":{"line":21,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"authenticate","decl":{"start":{"line":8,"column":15},"end":{"line":8,"column":27}},"loc":{"start":{"line":8,"column":37},"end":{"line":10,"column":1}},"line":8},"2":{"name":"genHash","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":22}},"loc":{"start":{"line":12,"column":33},"end":{"line":15,"column":1}},"line":12},"3":{"name":"verifyHash","decl":{"start":{"line":17,"column":15},"end":{"line":17,"column":25}},"loc":{"start":{"line":17,"column":42},"end":{"line":20,"column":1}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/jademir/dev/techChallenges/coopers/todo-api/src/plugins/authenticate.ts","sources":["/home/jademir/dev/techChallenges/coopers/todo-api/src/plugins/authenticate.ts"],"names":[],"mappings":";;;;;;AACA,oDAA2B;AAEpB,KAAK,UAAU,YAAY,CAAC,OAAuB;IACxD,MAAM,OAAO,CAAC,SAAS,EAAE,CAAA;AAC3B,CAAC;AAFD,oCAEC;AAEM,KAAK,UAAU,OAAO,CAAC,QAAgB;IAC5C,MAAM,MAAM,GAAI,gBAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAA;IAEzC,OAAO,MAAM,CAAA;AACf,CAAC;AAJD,0BAIC;AAEM,KAAK,UAAU,UAAU,CAAC,QAAgB,EAAE,IAAY;IAC7D,MAAM,MAAM,GAAI,gBAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;IAE9C,OAAO,MAAM,CAAA;AACf,CAAC;AAJD,gCAIC","sourcesContent":["import { FastifyRequest } from 'fastify'\nimport bcrypt from 'bcrypt'\n\nexport async function authenticate(request: FastifyRequest) {\n  await request.jwtVerify()\n}\n\nexport async function genHash(password: string) {\n  const hashed =  bcrypt.hash(password, 12)\n\n  return hashed\n}\n\nexport async function verifyHash(password: string, hash: string) {\n  const result =  bcrypt.compare(password, hash)\n\n  return result\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6a2f7ea295480b144c40e4246ca0fbf145d455b8","contentHash":"39d3938f47a3e6a3a7d433832ce57e236c26ae66c9188e80d282e312dd160de4"},"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/user.routes.ts":{"path":"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/user.routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":28}},"26":{"start":{"line":27,"column":13},"end":{"line":27,"column":57}},"27":{"start":{"line":29,"column":4},"end":{"line":29,"column":40}},"28":{"start":{"line":31,"column":0},"end":{"line":31,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"userRoutes","decl":{"start":{"line":28,"column":15},"end":{"line":28,"column":25}},"loc":{"start":{"line":28,"column":35},"end":{"line":30,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"file":"/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/user.routes.ts","sources":["/home/jademir/dev/techChallenges/coopers/todo-api/src/routes/user.routes.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,0DAA2C;AAEpC,KAAK,UAAU,UAAU,CAAC,OAAwB;IACvD,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;AACrC,CAAC;AAFD,gCAEC","sourcesContent":["import { FastifyInstance } from 'fastify'\nimport * as User from '../controllers/user'\n\nexport async function userRoutes(fastify: FastifyInstance) {\n  fastify.post('/users', User.create)\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bb8744726e4f995003d155351b637f5edf45c6a9","contentHash":"b0bbf71fef53881cf097ebbe9a9c866af8d6fc6ba4ad136290ff393a8467adbe"},"/home/jademir/dev/techChallenges/coopers/todo-api/src/controllers/user.ts":{"path":"/home/jademir/dev/techChallenges/coopers/todo-api/src/controllers/user.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":57}},"5":{"start":{"line":7,"column":15},"end":{"line":29,"column":1}},"6":{"start":{"line":8,"column":27},"end":{"line":12,"column":6}},"7":{"start":{"line":13,"column":38},"end":{"line":13,"column":72}},"8":{"start":{"line":14,"column":27},"end":{"line":14,"column":70}},"9":{"start":{"line":15,"column":4},"end":{"line":28,"column":5}},"10":{"start":{"line":16,"column":21},"end":{"line":22,"column":10}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":40}},"12":{"start":{"line":26,"column":8},"end":{"line":26,"column":83}},"13":{"start":{"line":27,"column":8},"end":{"line":27,"column":39}},"14":{"start":{"line":30,"column":0},"end":{"line":30,"column":24}},"15":{"start":{"line":31,"column":13},"end":{"line":39,"column":1}},"16":{"start":{"line":32,"column":18},"end":{"line":37,"column":6}},"17":{"start":{"line":38,"column":4},"end":{"line":38,"column":17}},"18":{"start":{"line":40,"column":0},"end":{"line":40,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":15},"end":{"line":7,"column":16}},"loc":{"start":{"line":7,"column":44},"end":{"line":29,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":31,"column":13},"end":{"line":31,"column":14}},"loc":{"start":{"line":31,"column":42},"end":{"line":39,"column":1}},"line":31}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":0,"17":0,"18":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/jademir/dev/techChallenges/coopers/todo-api/src/controllers/user.ts","sources":["/home/jademir/dev/techChallenges/coopers/todo-api/src/controllers/user.ts"],"names":[],"mappings":";;;AAEA,6BAAuB;AACvB,0CAAsC;AACtC,0DAAiD;AAGjD,MAAM,MAAM,GAAG,KAAK,EAAE,OAAuB,EAAE,QAAsB,EAAE,EAAE;IACvE,MAAM,cAAc,GAAG,OAAC,CAAC,MAAM,CAAC;QAC9B,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QACvB,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QACxB,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;KAC5B,CAAC,CAAA;IACF,MAAM,EAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAC,GAAG,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;IAElE,MAAM,cAAc,GAAG,MAAM,IAAA,sBAAO,EAAC,QAAQ,CAAC,CAAA;IAE9C,IAAI;QACF,MAAM,IAAI,GAAG,MAAM,eAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACpC,IAAI,EAAE;gBACJ,IAAI;gBACJ,KAAK;gBACL,QAAQ,EAAE,cAAc;aACzB;SACF,CAAC,CAAA;QACF,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;KAChC;IAAC,OAAO,GAAG,EAAE;QACZ,OAAO,CAAC,GAAG,CAAC,wDAAwD,EAAE,GAAG,CAAC,CAAA;QAC1E,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;KAC/B;AAEH,CAAC,CAAA;AAcC,wBAAM;AAZR,MAAM,IAAI,GAAG,KAAK,EAAE,OAAuB,EAAE,QAAsB,EAAE,EAAE;IACrE,MAAM,KAAK,GAAG,MAAM,eAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACvC,MAAM,EAAE;YACN,KAAK,EAAE,IAAI;YACX,KAAK,EAAE,IAAI;SACZ;KACF,CAAC,CAAA;IAEF,OAAO,KAAK,CAAA;AACd,CAAC,CAAA;AAIC,oBAAI","sourcesContent":["\nimport { FastifyRequest, FastifyReply } from 'fastify'\nimport { z } from 'zod'\nimport { prisma } from '../lib/prisma'\nimport { genHash } from '../plugins/authenticate'\n\n\nconst create = async (request: FastifyRequest, response: FastifyReply) => {\n  const createUserBody = z.object({ \n    name: z.string().min(3),\n    email: z.string().min(3),\n    password: z.string().min(6),\n  })\n  const {name, email, password} = createUserBody.parse(request.body)\n  \n  const hashedPassword = await genHash(password)\n \n  try {\n    const user = await prisma.user.create({\n      data: {\n        name,\n        email,\n        password: hashedPassword\n      }\n    })\n    response.status(201).send(user)\n  } catch (err) {\n    console.log('🚀 ~ file: user.controller.ts ~ line 22 ~ create ~ err', err)\n    response.status(400).send(err)\n  }\n\n}\n\nconst list = async (request: FastifyRequest, response: FastifyReply) => {\n  const users = await prisma.user.findMany({\n    select: {\n      email: true,\n      lists: true,\n    }\n  })\n\n  return users\n}\n\nexport {\n  create,\n  list,\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"699f77b1408e5c7cc1b6d1a66ba359428aae6889","contentHash":"80704cbe06a963b8c3f5acacedd17fda9492bbd813ecb3e54ee2fc61e0e675ca"}}